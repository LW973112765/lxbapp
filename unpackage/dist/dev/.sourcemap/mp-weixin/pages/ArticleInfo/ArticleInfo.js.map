{"version":3,"sources":["uni-app:///main.js","webpack:///D:/360MoveData/Users/Administrator/Desktop/郎小宝/pages/ArticleInfo/ArticleInfo.vue?6c36","webpack:///D:/360MoveData/Users/Administrator/Desktop/郎小宝/pages/ArticleInfo/ArticleInfo.vue?ad48","webpack:///D:/360MoveData/Users/Administrator/Desktop/郎小宝/pages/ArticleInfo/ArticleInfo.vue?b07b","webpack:///D:/360MoveData/Users/Administrator/Desktop/郎小宝/pages/ArticleInfo/ArticleInfo.vue?71d0","uni-app:///pages/ArticleInfo/ArticleInfo.vue","webpack:///D:/360MoveData/Users/Administrator/Desktop/郎小宝/pages/ArticleInfo/ArticleInfo.vue?52f2","webpack:///D:/360MoveData/Users/Administrator/Desktop/郎小宝/pages/ArticleInfo/ArticleInfo.vue?e440"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","articleid","infoData","commenttotal","total","pageSize","liulanliang","commentListz","zxl","watch","mounted","onLoad","methods","etitcomment","getComment","res","console","getArtileInfo","id","liulan","liulandata","cover","title","time","type","result","uni","addLiulanliang","getCommentTotal"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AAC0L;AAC1L,gBAAgB,uMAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAA2tB,CAAgB,uvBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACqC/uB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC,QAEA;EACAC,6BAEA;EACAC;IACA;IACA;IACA;IACA;IACA;EACA;EAEAC;IACAC;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAb;gBAAA;cAAA;gBAAAc;gBACAC;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;gBAAA;gBAAA,OACA;kBAAAA;gBAAA;cAAA;gBAAAH;gBACA;gBACA;kBACAA;oBACAf,+DACA,sBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACAmB;kBACA;oBACAA;kBACA;oBACAA;kBACA;kBACAC;oBACAF;oBACAG;oBACAC;oBACAC;oBACAC;kBACA;kBACAC;kBACAN;oBACA;sBACAM;oBACA,OACA;sBACA;wBACAA;sBACA;oBACA;kBACA;kBACAT;kBACAS;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAAvB;kBAAAc;gBAAA;cAAA;gBAAAH;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAa;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBAAA3B;gBAAA;cAAA;gBAAAc;gBACA;kBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxIA;AAAA;AAAA;AAAA;AAA01C,CAAgB,u0CAAG,EAAC,C;;;;;;;;;;;ACA92C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/ArticleInfo/ArticleInfo.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/ArticleInfo/ArticleInfo.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ArticleInfo.vue?vue&type=template&id=2dcafe60&scoped=true&\"\nvar renderjs\nimport script from \"./ArticleInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArticleInfo.vue?vue&type=style&index=0&id=2dcafe60&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2dcafe60\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/ArticleInfo/ArticleInfo.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleInfo.vue?vue&type=template&id=2dcafe60&scoped=true&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleInfo.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"main\">\n    <view class=\"content\" v-for=\"(item, id) in infoData\" :key=\"id\">\n      <view class=\"header\">\n        <text class=\"title\">{{ item.title }}</text>\n        <view>\n          <view  class=\"other\">发布时间：{{ item.created_at }}</view>\n          <!-- <p>分类：<text>{{}}</text></p> -->\n          <view  class=\"other\">作者：{{ item.author }}</view>\n          <view  class=\"other\"\n            >{{\n              item.total\n            }}\n            次阅读</view\n          >\n        </view>\r\n\t\t<view  class=\"other\"\r\n\t\t  >{{ commenttotal }} 条评论</view\r\n\t\t>\n      </view>\n      <view class=\"wapper\">\r\n\t\t  <zero-markdown-view  :codeBgColor=\"zxl\"  :markdown=\"item.content\"></zero-markdown-view>\n      </view>\n     <view class=\"comment\"><Comment :articleid=\"articleid\" ></Comment></view>\n      <view class=\"commentlist\">\n        <CommentList\n          :articleid=\"articleid\"\n          v-for=\"(item, id) in commentListz\"\n          :key=\"id\"\n          :item=\"item\"\n          @etitcomment=\"etitcomment\"\n        ></CommentList>\n      </view>\n    </view>\n  </view>\n</template>\n<script>\nimport moment from \"moment\";\n\nexport default {\n  name: \"ArticleInfo\",\n  data() {\n    return {\n      articleid: '',\n      infoData: [],\n      commenttotal: 0,\n      total: 10,\n      pageSize: 8,\n      liulanliang: \"\",\n      commentListz: [],\r\n\t  zxl:'#430000',\n    };\n  },\n  watch: {\r\n\t  \n  },\r\n  mounted() {\r\n\r\n  },\n  onLoad(e) {\n\t  this.articleid=e.id\n\t  // console.log(e,'收到')\n    this.getArtileInfo(e.id);\n    this.getComment(e.id);\n    this.getCommentTotal(e.id);\n  },\r\n  \n  methods: {\n    etitcomment(val) {\n      // alert(`该更新啦${val}`);\n      this.getComment(this.articleid);\n    },\n   async getComment(articleid) {\n     let res= await this.$zxl('/getcomment',{ articleid })\r\n\t console.log(res,'评论')\n        if (res.data.status === 200) {\n          this.commentListz = res.data.data;\n        }\n  \n    },\n   async getArtileInfo(zzz) {\n      let id = zzz\n    let res =await this.$zxl(\"/getarticleinfo\",{ id })\n        // console.log(res.data,'文章详情');\n        if (res.data.status === 200) {\n          res.data.data.forEach((data) => {\n            data.created_at = moment(data.created_at).format(\n              \"YYYY-MM-DD HH:mm:ss\"\n            );\n          });\n          this.infoData = res.data.data;\n          this.liulanliang = res.data.data[0].total;\n          this.liulanliang++;\n          this.addLiulanliang(this.liulanliang, zzz);\t\r\n\t\t     let liulan= uni.getStorageSync(\"liulanjilu\");\r\n\t\t     if (liulan) {\r\n\t\t       liulan = JSON.parse(liulan);\r\n\t\t     }else{\r\n\t\t     \tliulan=[]\r\n\t\t     }\r\n\t\t\t var liulandata={\r\n\t\t\t\t id:this.infoData[0].id,\r\n\t\t\t\t cover:this.infoData[0].cover || 'http://lwandzxl.love/%E9%9A%8F%E6%9C%BA%E5%B0%81%E9%9D%A2/IMG_20220417_151831.jpg',\r\n\t\t\t\t title:this.infoData[0].title,\r\n\t\t\t\t time:moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n\t\t\t\t type:'article'\r\n\t\t\t }\r\n\t\t\t let result=[]\r\n\t\t     liulan.forEach((item,index)=>{\r\n\t\t\t\t if(item.type!=liulandata.type){\r\n\t\t\t\t\t result.push(item)\r\n\t\t\t\t }\r\n\t\t\t\t  else{\r\n\t\t\t\t\t  if(item.type==liulandata.type && item.id!=liulandata.id){\r\n\t\t\t\t\t\t  result.push(item)\r\n\t\t\t\t\t  }\r\n\t\t\t\t  }\r\n\t\t\t })\r\n\t\t\t   console.log(result)\r\n\t\t\t result.unshift(liulandata)\r\n\t\t  \t uni.setStorageSync('liulanjilu',JSON.stringify(result))\n        }\n\n    },\n   async addLiulanliang(total, id) {\n    let res =await  this.$zxl('/updatearticle',{ total, id },'POST');\n    },\n   async getCommentTotal(articleid) {\n     let res =await  this.$zxl('/getcommenttotal',{ articleid })\n        if (res.data.status === 200) {\r\n\t\t\t// console.log(res,'评论总数')\n          this.commenttotal = res.data.total;\n        }\n   \n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n* {\n  margin: 0;\n  padding: 0;\n}\n.main {\n  box-sizing: border-box;\n  position: relative;\n  font-size: 16rpx;\n  // padding-top: 10rpx;\n  // padding-left: 20rpx;\n  // padding-bottom: 20rpx;\n  width: 100%;\n  height: auto;\n  margin: 10rpx auto;\n  // background-color: rgba(0, 0, 0, 0.5);\n  background-color: #999999;\n}\n.content {\n  width: 100%;\n  margin-top: 10rpx;\n  // padding-bottom: 30rpx;\n  // margin-bottom: 20rpx;\n  margin-right: 40rpx;\n  background-color: #fff;\n  .header{\r\n\t  width: 100%;\r\n\t  height: 240rpx;\r\n\t  text-align: center;\r\n\t  // padding-top: 10rpx;\r\n\t  border-bottom: 1rpx solid #eae6e6;\r\n\t  \r\n\t  .title {\r\n\t    width: 500rpx;\r\n\t\tmargin: 0 auto;\r\n\t\t// background-color: red;\r\n\t    font-size: 40rpx;\r\n\t    text-align: center;\r\n\t    // padding-top: 25rpx;\r\n\t\tdisplay: block;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t  }\r\n\t  .other{\r\n\t\t  font-size: 20rpx;\r\n\t\t  margin-bottom: 10rpx;\r\n\t  }\r\n  }\n  .comment {\n    width: 100%;\n    height: 242rpx;\r\n\tborder-bottom: 1px solid #000;\r\n\tmargin-bottom: 50rpx;\n    // background-color: aqua;\n  }\n  .commentlist {\n    padding-top: 10rpx;\n    padding-bottom: 20rpx;\n    width: 100%;\n    height: auto;\n    background-color: #fff;\n  }\n}\r\n.wapper{\r\n\twidth: 98%;\r\n\theight: auto;\r\n\tmargin: 0 auto;\r\n\tbackground-color:darkgrey;\r\n\tmargin-top: 20rpx;\r\n\t\r\n}\n</style>\n","import mod from \"-!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleInfo.vue?vue&type=style&index=0&id=2dcafe60&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ArticleInfo.vue?vue&type=style&index=0&id=2dcafe60&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1686836034636\n      var cssReload = require(\"D:/360MoveData/Users/Administrator/Desktop/HBuilderX.3.7.11.20230427/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}